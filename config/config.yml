# =============================================================================
# ç¨¼åƒ.com çµ±åˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
# ãƒãƒƒãƒå‡¦ç†ã‚·ã‚¹ãƒ†ãƒ  + APIã‚µãƒ¼ãƒãƒ¼ + ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
# =============================================================================

# ğŸŒ ç’°å¢ƒè¨­å®š
environment:
  mode: development  # development | production | test
  debug: true
  log_level: DEBUG

# ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šï¼ˆå…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å…±é€šï¼‰
database:
  # Supabase PostgreSQLæ¥ç¶šæƒ…å ±ï¼ˆç¾åœ¨ä½¿ç”¨ä¸­ï¼‰
  host: "57.182.231.186"
  port: 6543
  database: "postgres"
  user: "postgres.hnmbsqydlfemlmsyexrq"
  password: "Ggzzmmb3"
  sslmode: "require"
  
  # æ¥ç¶šãƒ—ãƒ¼ãƒ«è¨­å®š
  pool_size: 5
  max_overflow: 10
  pool_timeout: 30
  
  # URLå½¢å¼ï¼ˆAPIã‚µãƒ¼ãƒãƒ¼ç”¨ï¼‰
  url: "postgresql://postgres.hnmbsqydlfemlmsyexrq:Ggzzmmb3@57.182.231.186:6543/postgres?sslmode=require"

# ğŸ“§ ãƒ¡ãƒ¼ãƒ«è¨­å®š
email:
  provider: "smtp"  # sendgrid | smtp
  api_key: "SENDGRID_API_KEY_REMOVED"  # é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã¯å®Ÿéš›ã«é€ä¿¡ã•ã‚Œã¾ã›ã‚“
  from_email: "info@working-rate.com"  # æ­£å¼ãªãƒ‰ãƒ¡ã‚¤ãƒ³å
  from_name: "ç¨¼åƒ.com"
  # SMTPè¨­å®š
  smtp_server: "smtp.sendgrid.net"
  smtp_port: 587
  smtp_username: "apikey"
  smtp_password: "SENDGRID_API_KEY_REMOVED"  # APIã‚­ãƒ¼ã‚’ãã®ã¾ã¾ä½¿ç”¨
  templates:
    verification: "d-verification-template-id"
    password_reset: "d-password-reset-template-id"
    welcome: "d-welcome-template-id"

# ğŸŒ APIã‚µãƒ¼ãƒãƒ¼è¨­å®š
api:
  host: localhost
  port: 8080
  debug: true
  title: "ç¨¼åƒ.com API"
  description: "é¢¨ä¿—åº—ç¨¼åƒç‡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®API"
  version: "1.0.0"
  
  # CORSè¨­å®š
  cors:
    origins:
      - "http://localhost:5173"
      - "http://localhost:3000"
    allow_credentials: true
    allow_methods: ["*"]
    allow_headers: ["*"]

# ğŸ” èªè¨¼è¨­å®š
auth:
  secret_key: "kado-com-secret-key-for-development"
  algorithm: "HS256"
  access_token_expire_days: 7
  access_token_expire_minutes: 10080  # 7æ—¥é–“ï¼ˆ7*24*60ï¼‰
  magic_link_expire_minutes: 15

# ğŸ“± ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­å®š
frontend:
  url: "http://localhost:5173"
  api_base_url: "http://localhost:8080"
  app_name: "ç¨¼åƒ.com"
  app_version: "1.0.0"
  node_env: "development"
  
# ğŸ“ ãƒ­ã‚°è¨­å®š
logging:
  level: "DEBUG"
  log_dir: "./logs"
  max_file_size: 10485760  # 10MB
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# â° ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
scheduling:
  # ğŸ• åŸºæœ¬ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
  status_collection_interval: 30  # ç¨¼åƒçŠ¶æ³å–å¾—é–“éš”ï¼ˆåˆ†ï¼‰
  history_calculation_hour: 12     # ç¨¼åƒç‡è¨ˆç®—å®Ÿè¡Œæ™‚åˆ»ï¼ˆ12æ™‚ï¼‰
  history_calculation_minute: 0    # ç¨¼åƒç‡è¨ˆç®—å®Ÿè¡Œåˆ†
  
  # ğŸ“Š ä¸¦è¡Œå‡¦ç†è¨­å®š
  max_concurrent_businesses: 3     # ç¨¼åƒçŠ¶æ³å–å¾—ã®åº—èˆ—ä¸¦è¡Œå‡¦ç†æ•°
  max_concurrent_working_rate: 5   # ç¨¼åƒç‡è¨ˆç®—ã®ä¸¦è¡Œå‡¦ç†æ•°
  
  # ğŸ”§ é‹ç”¨è¨­å®š
  health_check_interval: 15        # ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯é–“éš”ï¼ˆåˆ†ï¼‰
  cleanup_time_hour: 2             # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Ÿè¡Œæ™‚åˆ»ï¼ˆåˆå‰2æ™‚ï¼‰
  cleanup_time_minute: 0
  misfire_grace_time:
    status_collection: 300         # 5åˆ†
    status_history: 600            # 10åˆ†
  max_log_retention_days: 30       # ãƒ­ã‚°ä¿æŒæ—¥æ•°
  business_hours_buffer: 0         # å–¶æ¥­æ™‚é–“ãƒãƒƒãƒ•ã‚¡ï¼ˆåˆ†ï¼‰

# ğŸŒ ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°è¨­å®š
scraping:
  timeout: 30
  retry_attempts: 3
  delay_between_requests: 1
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
  
  # ğŸ›¡ï¸ ãƒ–ãƒ­ãƒƒã‚¯å¯¾ç­–è¨­å®š
  user_agents:
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/121.0"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15"
    - "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
  
  # ğŸš€ ä¸¦è¡Œå‡¦ç†ãƒ»ãƒ–ãƒ­ãƒƒã‚¯å¯¾ç­–
  max_parallel_businesses: 3    # åº—èˆ—ä¸¦è¡Œå‡¦ç†æ•°
  max_concurrent: 3             # åŒæ™‚æ¥ç¶šæ•°
  min_delay: 0.5               # æœ€å°å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰
  max_delay: 2.0               # æœ€å¤§å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰
  request_interval: 1.0        # ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“éš”åŸºæœ¬å€¤ï¼ˆç§’ï¼‰
  retry_delay: 3.0             # ãƒªãƒˆãƒ©ã‚¤æ™‚ã®å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰
  
  # ğŸ”§ é«˜é€ŸåŒ–è¨­å®š
  use_aiohttp: true            # aiohttpä½¿ç”¨ãƒ•ãƒ©ã‚°
  connection_pooling: true     # æ¥ç¶šãƒ—ãƒ¼ãƒ«ä½¿ç”¨
  keep_alive: true             # Keep-Aliveæœ‰åŠ¹
  compress: true               # åœ§ç¸®æœ‰åŠ¹

# ğŸš€ æœ¬ç•ªç’°å¢ƒè¨­å®šï¼ˆç’°å¢ƒå¤‰æ•°ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½ï¼‰
production:
  environment:
    mode: production
    debug: false
    log_level: INFO
  
  api:
    host: "0.0.0.0"
    port: 8000
    debug: false
  
  auth:
    secret_key: "${JWT_SECRET_KEY}"  # ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—
  
  database:
    url: "${DATABASE_URL}"  # ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—
  
  email:
    api_key: "${SENDGRID_API_KEY}"
    from_email: "${EMAIL_FROM}"
    from_name: "${EMAIL_FROM_NAME}"
  
  logging:
    level: "INFO"
