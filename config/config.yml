# =============================================================================
# ç¨¼åƒ.com çµ±åˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼‰
# ãƒãƒƒãƒå‡¦ç†ã‚·ã‚¹ãƒ†ãƒ  + APIã‚µãƒ¼ãƒãƒ¼ + ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
# =============================================================================
# 
# ğŸ“‹ è¨­å®šã®é©ç”¨ç¯„å›²:
# - ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã®å®Ÿè¡Œæ™‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
# - GitHub Actionså®Ÿè¡Œæ™‚ã¯ .github/workflows/status-collection.yml ãŒå„ªå…ˆ
# 
# âš ï¸  é‡è¦: GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ã®åŒæœŸã‚’ä¿ã£ã¦ãã ã•ã„:
# - .github/workflows/status-collection.yml (cron: '0 */2 * * *' = 2æ™‚é–“ã”ã¨)
# - scheduling.status_collection_interval: 120åˆ† (2æ™‚é–“é–“éš”ã§çµ±ä¸€)
# =============================================================================

# ğŸŒ ç’°å¢ƒè¨­å®š
environment:
  mode: development  # development | production | test
  debug: true
  log_level: DEBUG

# ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šï¼ˆå…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å…±é€šï¼‰
database:
  # Supabase PostgreSQLæ¥ç¶šæƒ…å ±ï¼ˆç¾åœ¨ä½¿ç”¨ä¸­ï¼‰
  host: "57.182.231.186"
  port: 6543
  database: "postgres"
  user: "postgres.hnmbsqydlfemlmsyexrq"
  password: "${SECRET_DB_PASSWORD}"  # secret.ymlã‹ã‚‰å–å¾—
  sslmode: "require"
  
  # æ¥ç¶šãƒ—ãƒ¼ãƒ«è¨­å®š
  pool_size: 5
  max_overflow: 10
  pool_timeout: 30
  
  # URLå½¢å¼ï¼ˆAPIã‚µãƒ¼ãƒãƒ¼ç”¨ï¼‰
  url: "${SECRET_DB_URL}"  # secret.ymlã‹ã‚‰å–å¾—

# ğŸŒ APIã‚µãƒ¼ãƒãƒ¼è¨­å®š
api:
  host: localhost
  port: 8080
  debug: true
  title: "ç¨¼åƒ.com API"
  description: "é¢¨ä¿—åº—ç¨¼åƒç‡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®API"
  version: "1.0.0"
  
  # CORSè¨­å®š
  cors:
    origins:
      - "http://localhost:5173"
      - "http://localhost:3000"
    allow_credentials: true
    allow_methods: ["*"]
    allow_headers: ["*"]

# ğŸ” èªè¨¼è¨­å®š
auth:
  secret_key: "${SECRET_AUTH_KEY}"  # secret.ymlã‹ã‚‰å–å¾—
  algorithm: "HS256"
  access_token_expire_days: 7
  access_token_expire_minutes: 10080  # 7æ—¥é–“ï¼ˆ7*24*60ï¼‰
  magic_link_expire_minutes: 15

# ğŸ“± LINE ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®š
line:
  url: "https://line.me/ti/p/fDpRYZH7C2"
  initial_delay_seconds: 30
  reoccurrence_interval_minutes: 30

# ğŸ“± ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­å®š
frontend:
  url: "http://localhost:5173"
  api_base_url: "http://localhost:8080"
  app_name: "ç¨¼åƒ.com"
  app_version: "1.0.0"
  node_env: "development"
  
  # X (æ—§Twitter) è¨­å®š
  twitter:
    username: "AkariRikaRika"
    display_name: "Elon Musk"

# ğŸ¦ X APIè¨­å®š
x_api:
  # APIèªè¨¼æƒ…å ±ï¼ˆsecret.ymlã‹ã‚‰å–å¾—ï¼‰
  bearer_token: "${SECRET_X_BEARER_TOKEN}"     # Bearer Token
  api_key: "${SECRET_X_API_KEY}"               # API Key
  api_secret: "${SECRET_X_API_SECRET}"         # API Secret
  access_token: "${SECRET_X_ACCESS_TOKEN}"     # Access Token
  access_token_secret: "${SECRET_X_ACCESS_TOKEN_SECRET}"  # Access Token Secret
  
  # ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¨­å®š
  timeline:
    username: "AkariRikaRika"              # å–å¾—å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼
    max_results: 10                   # æœ€å¤§å–å¾—ãƒ„ã‚¤ãƒ¼ãƒˆæ•°
    exclude_replies: true             # ãƒªãƒ—ãƒ©ã‚¤ã‚’é™¤å¤–
    exclude_retweets: false           # ãƒªãƒ„ã‚¤ãƒ¼ãƒˆã‚’å«ã‚ã‚‹
    
  # APIåˆ¶é™ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  rate_limit:
    requests_per_15min: 75           # 15åˆ†é–“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ¶é™
    retry_attempts: 3                # ãƒªãƒˆãƒ©ã‚¤å›æ•°
    retry_delay: 60                  # ãƒªãƒˆãƒ©ã‚¤é–“éš”ï¼ˆç§’ï¼‰
    
  # ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š
  cache:
    enabled: true                    # ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹
    ttl_seconds: 300                 # ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹æœŸé–“ï¼ˆ5åˆ†ï¼‰
    
  # ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®š
  fallback:
    use_dummy_data: false             # APIå¤±æ•—æ™‚ã«ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼ˆé–‹ç™ºæ™‚æ¨å¥¨ï¼‰
    dummy_tweet_count: 5             # ãƒ€ãƒŸãƒ¼ãƒ„ã‚¤ãƒ¼ãƒˆæ•°
  
# ğŸ“ ãƒ­ã‚°è¨­å®šï¼ˆå›ºå®šï¼šDEBUGï¼‰
logging:
  level: "DEBUG"  # å›ºå®šï¼šè©³ç´°ãƒ­ã‚°å‡ºåŠ›
  log_dir: "./logs"
  max_file_size: 10485760  # 10MB
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# â° ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
scheduling:
  # ğŸ• åŸºæœ¬ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šï¼ˆGitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨åŒæœŸï¼‰
  status_collection_interval: 120  # ç¨¼åƒçŠ¶æ³å–å¾—é–“éš”ï¼ˆåˆ†ï¼‰- GitHub Actions: cron '0 */2 * * *' ã¨çµ±ä¸€
  history_calculation_hour: 12     # ç¨¼åƒç‡è¨ˆç®—å®Ÿè¡Œæ™‚åˆ»ï¼ˆ12æ™‚ï¼‰
  history_calculation_minute: 0    # ç¨¼åƒç‡è¨ˆç®—å®Ÿè¡Œåˆ†
  
  # ğŸ“Š ä¸¦è¡Œå‡¦ç†è¨­å®š
  max_concurrent_businesses: 3     # ç¨¼åƒçŠ¶æ³å–å¾—ã®åº—èˆ—ä¸¦è¡Œå‡¦ç†æ•°
  max_concurrent_working_rate: 5   # ç¨¼åƒç‡è¨ˆç®—ã®ä¸¦è¡Œå‡¦ç†æ•°
  
  # ğŸ”§ é‹ç”¨è¨­å®š
  health_check_interval: 15        # ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯é–“éš”ï¼ˆåˆ†ï¼‰
  cleanup_time_hour: 2             # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Ÿè¡Œæ™‚åˆ»ï¼ˆåˆå‰2æ™‚ï¼‰
  cleanup_time_minute: 0
  misfire_grace_time:
    status_collection: 300         # 5åˆ†
    status_history: 600            # 10åˆ†
  max_log_retention_days: 30       # ãƒ­ã‚°ä¿æŒæ—¥æ•°
  business_hours_buffer: 0         # å–¶æ¥­æ™‚é–“ãƒãƒƒãƒ•ã‚¡ï¼ˆåˆ†ï¼‰

# ğŸª æ¥­ç¨®ãƒãƒƒãƒ”ãƒ³ã‚°è¨­å®š
business_types:
  delivery_health: "ãƒ‡ãƒªãƒ˜ãƒ«"
  fashion_health: "ç®±ãƒ˜ãƒ«"
  dc: "DC"
  soapland: "ã‚½ãƒ¼ãƒ—"

# ğŸŒ ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°è¨­å®š
scraping:
  timeout: 30
  retry_attempts: 3
  delay_between_requests: 1
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
  
  # ğŸ›¡ï¸ ãƒ–ãƒ­ãƒƒã‚¯å¯¾ç­–è¨­å®š - Phase 1å¼·åŒ–
  user_agents:
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/121.0"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15"
    - "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:122.0) Gecko/20100101 Firefox/122.0"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:122.0) Gecko/20100101 Firefox/122.0"
    - "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:122.0) Gecko/20100101 Firefox/122.0"
  
  # ğŸª ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»Cookieç®¡ç†
  session_rotation: true        # ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æœ‰åŠ¹
  session_lifetime: 1800        # ã‚»ãƒƒã‚·ãƒ§ãƒ³æœ‰åŠ¹æœŸé–“ï¼ˆç§’ï¼‰30åˆ†
  cookie_persistence: true      # Cookieæ°¸ç¶šåŒ–
  
  # ğŸ² ãƒ©ãƒ³ãƒ€ãƒ åŒ–è¨­å®š
  random_intervals: false       # å®Œå…¨ãƒ©ãƒ³ãƒ€ãƒ é–“éš”ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ã«ç„¡åŠ¹åŒ–ï¼‰
  interval_base_minutes: 60     # ãƒ™ãƒ¼ã‚¹é–“éš”ï¼ˆåˆ†ï¼‰
  interval_variance_percent: 50 # å¤‰å‹•å¹…ï¼ˆÂ±50%ï¼‰
  random_headers: true          # ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ©ãƒ³ãƒ€ãƒ åŒ–
  random_referer: true          # ãƒªãƒ•ã‚¡ãƒ©ãƒ¼ãƒ©ãƒ³ãƒ€ãƒ åŒ–
  
  # ğŸš€ ä¸¦è¡Œå‡¦ç†ãƒ»ãƒ–ãƒ­ãƒƒã‚¯å¯¾ç­–ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–å¼·åŒ–ï¼‰
  max_parallel_businesses: 1    # åº—èˆ—ä¸¦è¡Œå‡¦ç†æ•°ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–ã§1ã«å‰Šæ¸›ï¼‰
  max_concurrent: 1             # åŒæ™‚æ¥ç¶šæ•°ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–ã§1ã«å‰Šæ¸›ï¼‰
  min_delay: 2.0               # æœ€å°å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–ã§å»¶é•·ï¼‰
  max_delay: 5.0               # æœ€å¤§å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–ã§å»¶é•·ï¼‰
  request_interval: 3.0        # ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“éš”åŸºæœ¬å€¤ï¼ˆç§’ï¼‰ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–ã§å»¶é•·ï¼‰
  retry_delay: 10.0            # ãƒªãƒˆãƒ©ã‚¤æ™‚ã®å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–ã§å»¶é•·ï¼‰
  
  # ğŸ”§ é«˜é€ŸåŒ–è¨­å®š
  use_aiohttp: true            # aiohttpä½¿ç”¨ãƒ•ãƒ©ã‚°
  connection_pooling: true     # æ¥ç¶šãƒ—ãƒ¼ãƒ«ä½¿ç”¨
  keep_alive: true             # Keep-Aliveæœ‰åŠ¹
  compress: true               # åœ§ç¸®æœ‰åŠ¹
  
  # ğŸ›¡ï¸ ãƒ—ãƒ­ã‚­ã‚·è¨­å®šï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦å¯¾ç­–ï¼‰
  enable_proxy_rotation: true  # ãƒ—ãƒ­ã‚­ã‚·ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æœ‰åŠ¹
  proxy_rotation_interval: 3   # ãƒ—ãƒ­ã‚­ã‚·åˆ‡ã‚Šæ›¿ãˆé–“éš”ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ï¼‰
  proxy_test_timeout: 10       # ãƒ—ãƒ­ã‚­ã‚·ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆç§’ï¼‰
  proxy_refresh_interval: 3600 # ãƒ—ãƒ­ã‚­ã‚·ãƒªã‚¹ãƒˆæ›´æ–°é–“éš”ï¼ˆç§’ï¼‰

# ğŸš€ æœ¬ç•ªç’°å¢ƒè¨­å®šï¼ˆç’°å¢ƒå¤‰æ•°ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½ï¼‰
production:
  environment:
    mode: production
    debug: false
    log_level: INFO
  
  api:
    host: "0.0.0.0"
    port: 8000
    debug: false
  
  auth:
    secret_key: "${JWT_SECRET_KEY}"  # ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—
  
  database:
    url: "${DATABASE_URL}"  # ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—
  
  logging:
    level: "INFO"
